<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MODA MAROC</title>

<style>
body{margin:0;font-family:Arial;background:#f5f5f5}
header{background:#000;color:#fff;padding:15px;display:flex;justify-content:space-between;align-items:center}
.products{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;padding:20px}
.card{background:#fff;border-radius:15px;box-shadow:0 5px 15px rgba(0,0,0,.1);overflow:hidden;position:relative}
.card img{width:100%;height:250px;object-fit:cover}
.badges{position:absolute;top:10px;left:10px;display:flex;flex-direction:column;gap:5px}
.badge{background:#000;color:#fff;padding:5px 10px;border-radius:20px;font-size:12px}
.info{padding:15px}
.price del{color:#888;margin-left:5px}
button{padding:10px;border:none;border-radius:8px;cursor:pointer;width:100%;margin-top:10px}
.add{background:#000;color:#fff}
.sliderBtns{position:absolute;top:50%;width:100%;display:flex;justify-content:space-between;transform:translateY(-50%)}
.sliderBtns button{background:rgba(0,0,0,.5);color:#fff;border:none;width:35px;height:35px;border-radius:50%}
.modal{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.6);display:none;justify-content:center;align-items:center}
.box{background:#fff;width:90%;max-width:400px;padding:20px;border-radius:15px}
</style>
</head>

<body>

<header>
<h2>MODA MAROC</h2>
<button onclick="openCart()">ğŸ›’ <span id="count">0</span></button>
</header>

<div class="products" id="products"></div>

<!-- CART -->
<div class="modal" id="cartModal">
<div class="box">
<h3>Ø³Ù„Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª</h3>
<div id="cartItems"></div>
<p>Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹: <span id="total">0</span> DH</p>
<button onclick="sendOrder()">Ø¥Ø±Ø³Ø§Ù„ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨</button>
<button onclick="closeCart()">Ø¥ØºÙ„Ø§Ù‚</button>
</div>
</div>

<script>
const WHATSAPP="212712120673";
let discount=10;

let products=[
{
id:1,
name:"Ù‚Ù…ÙŠØµ Ø¹ØµØ±ÙŠ",
price:300,
rating:4,
images:[
"https://images.unsplash.com/photo-1521572163474-6864f9cf17ab",
"https://images.unsplash.com/photo-1516826957135-700dedea698c"
]
}
];

let cart=[];
let currentImageIndex={};

function loadProducts(){
let html="";
products.forEach(p=>{
currentImageIndex[p.id]=0;
let final=p.price-(p.price*discount/100);
html+=`
<div class="card">
<div class="badges">
<span class="badge">âœ” Ø¬ÙˆØ¯Ø© Ø¹Ø§Ù„ÙŠØ©</span>
<span class="badge">âœ¨ Ø£Ù†Ø§Ù‚Ø©</span>
</div>

<img id="img${p.id}" src="${p.images[0]}">

<div class="sliderBtns">
<button onclick="prevImg(${p.id})">â€¹</button>
<button onclick="nextImg(${p.id})">â€º</button>
</div>

<div class="info">
<h3>${p.name}</h3>
<div class="price">
<span>${final} DH</span>
<del>${p.price}</del>
</div>
<p>â­ ${p.rating}</p>
<button class="add" onclick="addToCart(${p.id})">Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø³Ù„Ø©</button>
</div>
</div>`;
});
document.getElementById("products").innerHTML=html;
}
loadProducts();

function nextImg(id){
let p=products.find(x=>x.id===id);
currentImageIndex[id]++;
if(currentImageIndex[id]>=p.images.length) currentImageIndex[id]=0;
document.getElementById("img"+id).src=p.images[currentImageIndex[id]];
}

function prevImg(id){
let p=products.find(x=>x.id===id);
currentImageIndex[id]--;
if(currentImageIndex[id]<0) currentImageIndex[id]=p.images.length-1;
document.getElementById("img"+id).src=p.images[currentImageIndex[id]];
}

function addToCart(id){
let p=products.find(x=>x.id===id);
let final=p.price-(p.price*discount/100);
cart.push({name:p.name,price:final});
updateCart();
}

function updateCart(){
let html="";
let total=0;
cart.forEach(p=>{
html+=`<p>${p.name}</p>`;
total+=p.price;
});
document.getElementById("cartItems").innerHTML=html;
document.getElementById("total").innerText=total;
document.getElementById("count").innerText=cart.length;
}

function openCart(){document.getElementById("cartModal").style.display="flex";}
function closeCart(){document.getElementById("cartModal").style.display="none";}

function sendOrder(){
let total=cart.reduce((a,b)=>a+b.price,0);
let msg="Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯:%0A";
cart.forEach(p=>msg+=p.name+"%0A");
msg+="Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹: "+total+" DH";
window.open("https://wa.me/"+WHATSAPP+"?text="+msg);
}
</script>

</body>
</html>