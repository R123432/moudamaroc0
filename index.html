<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MODA MAROC</title>

<style>
body{margin:0;font-family:Arial;background:#f4f4f4}
header{background:#000;color:#fff;padding:15px;display:flex;justify-content:space-between;align-items:center}
.products{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:15px;padding:15px}
.card{background:#fff;border-radius:10px;padding:10px;box-shadow:0 4px 10px rgba(0,0,0,.1)}
.card img{width:100%;height:180px;object-fit:cover;border-radius:8px}
button{padding:8px;border:none;border-radius:6px;cursor:pointer}
.add{background:#000;color:#fff;width:100%;margin-top:5px}
.modal{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.6);display:none;justify-content:center;align-items:center}
.box{background:#fff;width:90%;max-width:400px;padding:15px;border-radius:10px;max-height:90%;overflow:auto}
input,textarea{width:100%;padding:8px;margin:5px 0}
.adminBtn{background:#444;color:#fff}
.cartBtn{background:#fff;color:#000}
</style>
</head>

<body>

<header>
<h2>MODA MAROC</h2>
<div>
<button class="cartBtn" onclick="openCart()">ğŸ›’ <span id="count">0</span></button>
<button class="adminBtn" onclick="openAdmin()">âš™ï¸</button>
</div>
</header>

<div class="products" id="products"></div>

<!-- CART -->
<div class="modal" id="cartModal">
<div class="box">
<h3>Ø³Ù„Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª</h3>
<div id="cartItems"></div>
<p>Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹: <span id="total">0</span> DH</p>
<button onclick="sendOrder()">Ø¥Ø±Ø³Ø§Ù„ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨</button>
<button onclick="closeCart()">Ø¥ØºÙ„Ø§Ù‚</button>
</div>
</div>

<!-- ADMIN -->
<div class="modal" id="adminModal">
<div class="box">
<h3>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</h3>
<input type="password" id="adminPass" placeholder="ÙƒÙˆØ¯ Ø§Ù„Ø¯Ø®ÙˆÙ„">
<button onclick="login()">Ø¯Ø®ÙˆÙ„</button>

<div id="adminPanel" style="display:none;">
<hr>
<input id="name" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬">
<input id="price" type="number" placeholder="Ø§Ù„Ø³Ø¹Ø±">
<input id="image" placeholder="Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø©">
<button onclick="addProduct()">Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬</button>
<hr>
<div id="adminProducts"></div>
</div>

<button onclick="closeAdmin()">Ø¥ØºÙ„Ø§Ù‚</button>
</div>
</div>

<script>
const ADMIN_CODE="1995";
const WHATSAPP="212712120673";

let products=[
{id:1,name:"Ù‚Ù…ÙŠØµ Ø¹ØµØ±ÙŠ",price:250,image:"https://via.placeholder.com/400x400"},
{id:2,name:"Ø­Ø°Ø§Ø¡ Ø£Ù†ÙŠÙ‚",price:320,image:"https://via.placeholder.com/400x400"}
];

let cart=[];

function loadProducts(){
let html="";
products.forEach(p=>{
html+=`
<div class="card">
<img src="${p.image}">
<h4>${p.name}</h4>
<p>${p.price} DH</p>
<button class="add" onclick="addToCart(${p.id})">Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø³Ù„Ø©</button>
</div>`;
});
document.getElementById("products").innerHTML=html;
}
loadProducts();

function addToCart(id){
let p=products.find(x=>x.id===id);
cart.push(p);
updateCart();
}

function updateCart(){
let html="";
let total=0;
cart.forEach(p=>{
html+=`<p>${p.name}</p>`;
total+=p.price;
});
document.getElementById("cartItems").innerHTML=html;
document.getElementById("total").innerText=total;
document.getElementById("count").innerText=cart.length;
}

function openCart(){document.getElementById("cartModal").style.display="flex";}
function closeCart(){document.getElementById("cartModal").style.display="none";}

function sendOrder(){
let total=cart.reduce((a,b)=>a+b.price,0);
let msg="Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯:%0A";
cart.forEach(p=>msg+=p.name+"%0A");
msg+="Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹: "+total+" DH";
window.open("https://wa.me/"+WHATSAPP+"?text="+msg);
}

function openAdmin(){document.getElementById("adminModal").style.display="flex";}
function closeAdmin(){document.getElementById("adminModal").style.display="none";}

function login(){
if(document.getElementById("adminPass").value===ADMIN_CODE){
document.getElementById("adminPanel").style.display="block";
loadAdminProducts();
}
}

function addProduct(){
let newProduct={
id:Date.now(),
name:document.getElementById("name").value,
price:Number(document.getElementById("price").value),
image:document.getElementById("image").value
};
products.push(newProduct);
loadProducts();
loadAdminProducts();
}

function loadAdminProducts(){
let html="";
products.forEach(p=>{
html+=`<p>${p.name}</p>`;
});
document.getElementById("adminProducts").innerHTML=html;
}
</script>

</body>
</html>