<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Moudamaroc0</title>

<style>
body{margin:0;font-family:Arial;background:#f4f4f4;direction:rtl}
header{background:black;color:white;padding:15px;text-align:center}
.filter{text-align:center;margin:20px}
select{padding:8px}

.products{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
gap:20px;
padding:20px;
}

.card{
background:white;
padding:10px;
border-radius:10px;
box-shadow:0 4px 10px rgba(0,0,0,0.1);
text-align:center;
}

.card img{
width:100%;
height:200px;
object-fit:cover;
border-radius:10px;
}

button{
margin-top:10px;
padding:8px 12px;
border:none;
background:black;
color:white;
border-radius:5px;
cursor:pointer;
}

/* ADMIN */
.admin{
display:none;
background:white;
padding:20px;
margin:20px;
border-radius:10px;
box-shadow:0 4px 10px rgba(0,0,0,0.1);
}

.admin input,.admin select{
display:block;
width:100%;
margin-bottom:10px;
padding:8px;
}

.cart{
position:fixed;
bottom:20px;
right:20px;
background:black;
color:white;
padding:15px;
border-radius:50%;
cursor:pointer;
}

.login-admin{
text-align:center;
margin:20px;
}
</style>
</head>

<body>

<header>
<h2>Moudamaroc0</h2>
<p>ğŸšš ØªÙˆØµÙŠÙ„ Ù…Ø¬Ø§Ù†ÙŠ ÙÙˆÙ‚ 300 Ø¯Ø±Ù‡Ù…</p>
</header>

<div class="filter">
<select onchange="filterProducts(this.value)">
<option value="all">ÙƒÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</option>
<option value="Ù†Ø³Ø§Ø¡">Ù…Ù„Ø§Ø¨Ø³ Ù†Ø³Ø§Ø¦ÙŠØ©</option>
<option value="Ø±Ø¬Ø§Ù„">Ù…Ù„Ø§Ø¨Ø³ Ø±Ø¬Ø§Ù„ÙŠØ©</option>
<option value="Ø£Ø·ÙØ§Ù„">Ù…Ù„Ø§Ø¨Ø³ Ø£Ø·ÙØ§Ù„</option>
<option value="Ø±ÙŠØ§Ø¶Ø©">Ù…Ø¹Ø¯Ø§Øª Ø±ÙŠØ§Ø¶ÙŠØ©</option>
<option value="Ù…Ù†Ø²Ù„">Ø£Ø¯ÙˆØ§Øª Ù…Ù†Ø²Ù„ÙŠØ©</option>
<option value="Ù…Ø±Ø§Ù‡Ù…">Ù…Ø±Ø§Ù‡Ù…</option>
</select>
</div>

<div class="products" id="products"></div>

<div class="cart" onclick="checkout()">ğŸ›’</div>

<!-- ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… -->
<div class="login-admin">
<button onclick="loginAdmin()">Ø¯Ø®ÙˆÙ„ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</button>
</div>

<!-- Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… -->
<div class="admin" id="adminPanel">
<h3>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</h3>
<input type="text" id="name" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬">
<input type="number" id="price" placeholder="Ø§Ù„Ø³Ø¹Ø±">
<select id="category">
<option value="Ù†Ø³Ø§Ø¡">Ù…Ù„Ø§Ø¨Ø³ Ù†Ø³Ø§Ø¦ÙŠØ©</option>
<option value="Ø±Ø¬Ø§Ù„">Ù…Ù„Ø§Ø¨Ø³ Ø±Ø¬Ø§Ù„ÙŠØ©</option>
<option value="Ø£Ø·ÙØ§Ù„">Ù…Ù„Ø§Ø¨Ø³ Ø£Ø·ÙØ§Ù„</option>
<option value="Ø±ÙŠØ§Ø¶Ø©">Ù…Ø¹Ø¯Ø§Øª Ø±ÙŠØ§Ø¶ÙŠØ©</option>
<option value="Ù…Ù†Ø²Ù„">Ø£Ø¯ÙˆØ§Øª Ù…Ù†Ø²Ù„ÙŠØ©</option>
<option value="Ù…Ø±Ø§Ù‡Ù…">Ù…Ø±Ø§Ù‡Ù…</option>
</select>
<input type="file" id="image">
<button onclick="addProduct()">Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬</button>
</div>

<script>
let products = JSON.parse(localStorage.getItem("products")) || [];
let cart = [];

/* Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª */
function displayProducts(list){
let container=document.getElementById("products");
container.innerHTML="";
list.forEach((p,i)=>{
container.innerHTML+=`
<div class="card">
<img src="${p.image}">
<h4>${p.name}</h4>
<p>${p.price} Ø¯Ø±Ù‡Ù…</p>
<button onclick="addToCart(${i})">Ø£Ø¶Ù Ù„Ù„Ø³Ù„Ø©</button>
</div>`;
});
}

/* Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ */
function addProduct(){
let name=document.getElementById("name").value;
let price=document.getElementById("price").value;
let category=document.getElementById("category").value;
let file=document.getElementById("image").files[0];

if(!name || !price || !file){
alert("Ø£ÙƒÙ…Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª");
return;
}

let reader=new FileReader();
reader.onload=function(e){
let product={name,price,category,image:e.target.result};
products.push(product);
localStorage.setItem("products",JSON.stringify(products));
displayProducts(products);
alert("ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬");
};
reader.readAsDataURL(file);
}

/* ÙÙ„ØªØ±Ø© */
function filterProducts(cat){
if(cat=="all"){
displayProducts(products);
}else{
let filtered=products.filter(p=>p.category==cat);
displayProducts(filtered);
}
}

/* Ø³Ù„Ø© */
function addToCart(index){
cart.push(products[index]);
alert("ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬");
}

function checkout(){
if(cart.length==0){alert("Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©");return;}
let total=0;
let message="Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯:\n";
cart.forEach(item=>{
total+=Number(item.price);
message+=item.name+" - "+item.price+" Ø¯Ø±Ù‡Ù…\n";
});
if(total>=300){
message+="ğŸšš ØªÙˆØµÙŠÙ„ Ù…Ø¬Ø§Ù†ÙŠ\n";
}
message+="Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹: "+total+" Ø¯Ø±Ù‡Ù…";
window.open("https://wa.me/212712120673?text="+encodeURIComponent(message));
}

/* Ø­Ù…Ø§ÙŠØ© Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… */
function loginAdmin(){
let pass=prompt("Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±:");
if(pass==="1995"){
document.getElementById("adminPanel").style.display="block";
alert("Ù…Ø±Ø­Ø¨Ø§ Ø¨Ùƒ Ø±Ø¶ÙˆØ§Ù† ğŸ”¥");
}else{
alert("ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± ØºÙŠØ± ØµØ­ÙŠØ­Ø©");
}
}

displayProducts(products);
</script>

</body>
</html>