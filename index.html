<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MoudaMaroc</title>
<link rel="stylesheet" href="style.css">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
</head>

<body>

<header>
<div class="logo">MoudaMaroc</div>
<div class="social">
<a href="https://www.instagram.com/moudamaroc0" target="_blank"><i class="fab fa-instagram"></i></a>
<a href="https://tiktok.com/@moudamaroc0" target="_blank"><i class="fab fa-tiktok"></i></a>
</div>
</header>

<section class="hero">
<div class="overlay">
<h1>Ø£ÙØ¶Ù„ Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ø­ØµØ±ÙŠØ© ğŸ”¥</h1>
<p>ÙŠÙ†ØªÙ‡ÙŠ Ø§Ù„Ø¹Ø±Ø¶ Ø®Ù„Ø§Ù„ <span id="countdown"></span></p>
</div>
</section>

<section class="categories" id="categories"></section>

<section class="products" id="products"></section>

<div class="cart-btn" onclick="toggleCart()">
<i class="fas fa-shopping-cart"></i>
</div>

<div class="admin-btn" onclick="openAdmin()">
âš™
</div>

<div class="cart-panel" id="cartPanel">
<h3>Ø³Ù„Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª</h3>
<div id="cartItems"></div>
<h4 id="total"></h4>
<input id="customerName" placeholder="Ø§Ù„Ø§Ø³Ù…">
<input id="customerPhone" placeholder="Ø§Ù„Ù‡Ø§ØªÙ">
<input id="customerCity" placeholder="Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©">
<input id="customerAddress" placeholder="Ø§Ù„Ø¹Ù†ÙˆØ§Ù†">
<button onclick="sendOrder()">Ø§Ø·Ù„Ø¨ Ø§Ù„Ø¢Ù† Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨</button>
</div>

<div class="admin-panel" id="adminPanel">
<h2>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</h2>
<input id="productName" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬">
<input id="productPrice" type="number" placeholder="Ø§Ù„Ø³Ø¹Ø±">
<input id="productOldPrice" type="number" placeholder="Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ù‚Ø¯ÙŠÙ…">
<input id="productCategory" placeholder="Ø§Ù„Ù‚Ø³Ù…">
<input id="productRating" type="number" max="5" placeholder="Ø§Ù„ØªÙ‚ÙŠÙŠÙ… 1-5">
<input type="file" id="productImage">
<button onclick="addProduct()">Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬</button>
<div id="adminProducts"></div>
</div>

<script src="app.js"></script>
</body>
</html>
body{
margin:0;
font-family:Segoe UI;
background:#f4f7ff;
direction:rtl;
}

header{
background:white;
padding:15px;
display:flex;
justify-content:space-between;
align-items:center;
box-shadow:0 5px 20px rgba(0,0,0,.05);
}

.logo{
font-size:22px;
font-weight:bold;
color:#0a3d62;
}

.social a{
color:#0a3d62;
margin-left:10px;
font-size:20px;
}

.hero{
height:300px;
background:url('https://images.unsplash.com/photo-1521335629791-ce4aec67dd53?q=80&w=1600') center/cover;
position:relative;
display:flex;
align-items:center;
justify-content:center;
color:white;
}

.overlay{
background:rgba(0,0,0,.5);
padding:30px;
border-radius:20px;
text-align:center;
}

.categories{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(160px,1fr));
gap:15px;
padding:20px;
}

.cat{
background:white;
padding:20px;
border-radius:15px;
text-align:center;
cursor:pointer;
font-weight:bold;
box-shadow:0 5px 15px rgba(0,0,0,.05);
}

.products{
display:none;
grid-template-columns:repeat(auto-fit,minmax(230px,1fr));
gap:20px;
padding:20px;
}

.product{
background:white;
padding:15px;
border-radius:15px;
box-shadow:0 10px 25px rgba(0,0,0,.05);
}

.product img{
width:100%;
height:200px;
object-fit:cover;
border-radius:10px;
}

.price{
font-weight:bold;
color:#0a3d62;
}

.old{
text-decoration:line-through;
color:gray;
font-size:13px;
}

.cart-btn,.admin-btn{
position:fixed;
bottom:20px;
background:#0a3d62;
color:white;
padding:15px;
border-radius:50%;
cursor:pointer;
}

.cart-btn{left:20px;}
.admin-btn{right:20px;}

.cart-panel,.admin-panel{
display:none;
position:fixed;
top:0;
right:0;
width:350px;
height:100%;
background:white;
padding:20px;
overflow:auto;
}
let products = JSON.parse(localStorage.getItem("products")) || [];
let cart = [];
let whatsapp = "212712120673";

let categories = ["Ù…Ù„Ø§Ø¨Ø³ Ø±Ø¬Ø§Ù„ÙŠØ©","Ù…Ù„Ø§Ø¨Ø³ Ù†Ø³Ø§Ø¦ÙŠØ©","Ù…Ù„Ø§Ø¨Ø³ Ø£Ø·ÙØ§Ù„","Ù…Ø¹Ø¯Ø§Øª Ø±ÙŠØ§Ø¶ÙŠØ©","Ø£Ø¯ÙˆØ§Øª Ù…Ù†Ø²Ù„ÙŠØ©","Ù…Ø±Ø§Ù‡Ù…"];

function displayCategories(){
let box = document.getElementById("categories");
categories.forEach(cat=>{
box.innerHTML += `<div class="cat" onclick="showProducts('${cat}')">${cat}</div>`;
});
}

function showProducts(cat){
let box = document.getElementById("products");
box.style.display="grid";
box.innerHTML="";
products.filter(p=>p.category==cat).forEach((p,i)=>{
box.innerHTML+=`
<div class="product">
<img src="${p.image}">
<h3>${p.name}</h3>
<div>${"â˜…".repeat(p.rating||0)}</div>
<div class="price">${p.price} DH ${p.oldPrice?`<span class="old">${p.oldPrice} DH</span>`:''}</div>
<button onclick="addToCart(${i})">Ø£Ø¶Ù Ù„Ù„Ø³Ù„Ø©</button>
</div>`;
});
}

function addProduct(){
let file = document.getElementById("productImage").files[0];
let reader = new FileReader();
reader.onload = function(e){
let product = {
name: productName.value,
price: productPrice.value,
oldPrice: productOldPrice.value,
category: productCategory.value,
rating: productRating.value,
image: e.target.result
};
products.push(product);
localStorage.setItem("products",JSON.stringify(products));
alert("ØªÙ…Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ©");
};
if(file) reader.readAsDataURL(file);
}

function addToCart(i){
cart.push(products[i]);
alert("ØªÙ…Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø³Ù„Ø©");
}

function toggleCart(){
cartPanel.style.display = cartPanel.style.display=="block"?"none":"block";
}

function sendOrder(){
let message="Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ ğŸ›ï¸%0A";
cart.forEach(p=>{
message+=p.name+" - "+p.price+" DH%0A";
});
message+="%0AØ§Ù„Ø§Ø³Ù…:"+customerName.value+"%0AØ§Ù„Ù‡Ø§ØªÙ:"+customerPhone.value;
window.open("https://wa.me/"+whatsapp+"?text="+message,"_blank");
}

function openAdmin(){
let pass = prompt("Ø£Ø¯Ø®Ù„ ÙƒÙˆØ¯ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©");
if(pass==="2025"){
adminPanel.style.display="block";
}
}

let end = new Date();
end.setHours(end.getHours()+24);

setInterval(()=>{
let now = new Date().getTime();
let distance = end - now;
let h = Math.floor((distance%(1000*60*60*24))/(1000*60*60));
let m = Math.floor((distance%(1000*60*60))/(1000*60));
let s = Math.floor((distance%(1000*60))/1000);
document.getElementById("countdown").innerHTML = h+"h "+m+"m "+s+"s";
},1000);

displayCategories();