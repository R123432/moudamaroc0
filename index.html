<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MoudaMaroc</title>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
<style>

body{margin:0;font-family:'Segoe UI',sans-serif;background:#f2f6ff;direction:rtl}

header{
background:white;
padding:15px 20px;
display:flex;
justify-content:space-between;
align-items:center;
box-shadow:0 2px 10px rgba(0,0,0,.05)
}

.logo{font-size:22px;font-weight:bold;color:#0a3d62}

.social a{color:#0a3d62;font-size:20px;margin-left:10px}

.products{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(240px,1fr));
gap:20px;
padding:20px
}

.product{
background:white;
border-radius:15px;
padding:15px;
box-shadow:0 10px 25px rgba(0,0,0,.05);
transition:.3s
}

.product:hover{transform:translateY(-5px)}

.product img{
width:100%;
height:220px;
object-fit:cover;
border-radius:10px
}

.price{font-weight:bold;color:#0a3d62;margin:8px 0}

button{
cursor:pointer;
border:none;
border-radius:20px;
padding:8px 12px;
margin-top:6px
}

.add-btn{background:#0a3d62;color:white;width:100%}

.cart-btn{
position:fixed;
bottom:20px;
left:20px;
background:#0a3d62;
color:white;
padding:15px;
border-radius:50%;
font-size:20px
}

.admin-trigger{
position:fixed;
top:50%;
right:0;
background:#0a3d62;
color:white;
padding:8px;
border-radius:10px 0 0 10px;
cursor:pointer
}

/* Ø³Ù„Ø© */
.panel{
display:none;
position:fixed;
top:0;
right:0;
width:350px;
height:100%;
background:white;
box-shadow:-5px 0 20px rgba(0,0,0,.1);
padding:20px;
overflow:auto;
z-index:1000
}

input{
width:100%;
padding:8px;
margin:5px 0;
border-radius:8px;
border:1px solid #ddd
}

/* Dashboard */
.dashboard{
display:none;
position:fixed;
top:0;
right:0;
width:400px;
height:100%;
background:#0a3d62;
color:white;
padding:20px;
overflow:auto;
z-index:2000
}

.dashboard h3{margin-top:20px}

.dashboard button{
background:white;
color:#0a3d62;
width:100%
}

.admin-product{
background:white;
color:#000;
padding:8px;
border-radius:8px;
margin-top:5px
}

.delete-btn{
background:red;
color:white;
margin-top:5px
}

</style>
</head>

<body>

<header>
<div class="logo">MoudaMaroc</div>
<div class="social">
<a href="https://www.instagram.com/moudamaroc0" target="_blank"><i class="fab fa-instagram"></i></a>
<a href="https://tiktok.com/@moudamaroc0" target="_blank"><i class="fab fa-tiktok"></i></a>
</div>
</header>

<div class="products" id="products"></div>

<div class="cart-btn" onclick="openCart()"><i class="fas fa-shopping-cart"></i></div>
<div class="admin-trigger" onclick="openAdmin()">âš™</div>

<!-- Ø³Ù„Ø© -->
<div class="panel" id="cartPanel">
<h3>Ø³Ù„Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª</h3>
<div id="cartItems"></div>
<h4 id="total"></h4>

<h3>Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø·Ù„Ø¨</h3>
<input type="text" id="cname" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„">
<input type="text" id="cphone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ">
<input type="text" id="ccity" placeholder="Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©">
<input type="text" id="caddress" placeholder="Ø§Ù„Ø¹Ù†ÙˆØ§Ù†">

<button style="background:#25D366;color:white;width:100%" onclick="sendOrder()">Ø§Ø·Ù„Ø¨ Ø§Ù„Ø¢Ù†</button>
<button onclick="closeCart()">Ø¥ØºÙ„Ø§Ù‚</button>
</div>

<!-- Dashboard -->
<div class="dashboard" id="dashboard">
<h2>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</h2>

<h3>Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬</h3>
<input type="text" id="pname" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬">
<input type="number" id="pprice" placeholder="Ø§Ù„Ø³Ø¹Ø±">
<input type="file" id="pimg" accept="image/*">
<button onclick="addProduct()">Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬</button>

<h3>Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</h3>
<div id="adminProducts"></div>

<button onclick="closeDashboard()">Ø¥ØºÙ„Ø§Ù‚</button>
</div>

<script>

let products=JSON.parse(localStorage.getItem("products"))||[];
let cart=[];
let whatsapp="212712120673";

function save(){
localStorage.setItem("products",JSON.stringify(products));
displayProducts();
displayAdminProducts();
}

function displayProducts(){
let box=document.getElementById("products");
box.innerHTML="";
products.forEach((p,i)=>{
box.innerHTML+=`
<div class="product">
<img src="${p.img}">
<h3>${p.name}</h3>
<div class="price">${p.price} DH</div>
<button class="add-btn" onclick="addToCart(${i})">Ø£Ø¶Ù Ù„Ù„Ø³Ù„Ø©</button>
</div>`;
});
}

function addProduct(){
let file=pimg.files[0];
if(!file) return alert("Ø§Ø®ØªØ± ØµÙˆØ±Ø©");
let reader=new FileReader();
reader.onload=e=>{
products.push({name:pname.value,price:+pprice.value,img:e.target.result});
save();
};
reader.readAsDataURL(file);
}

function displayAdminProducts(){
let box=document.getElementById("adminProducts");
box.innerHTML="";
products.forEach((p,i)=>{
box.innerHTML+=`
<div class="admin-product">
${p.name} - ${p.price} DH
<button class="delete-btn" onclick="deleteProduct(${i})">Ø­Ø°Ù</button>
</div>`;
});
}

function deleteProduct(i){
products.splice(i,1);
save();
}

function addToCart(i){
cart.push(products[i]);
alert("ØªÙ…Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø³Ù„Ø©");
}

function openCart(){
document.getElementById("cartPanel").style.display="block";
displayCart();
}

function closeCart(){
document.getElementById("cartPanel").style.display="none";
}

function displayCart(){
let box=document.getElementById("cartItems");
box.innerHTML="";
let total=0;
cart.forEach(p=>{
box.innerHTML+=`<div>${p.name} - ${p.price} DH</div>`;
total+=p.price;
});
document.getElementById("total").innerText="Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹: "+total+" DH";
}

function sendOrder(){
if(cart.length==0) return alert("Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©");

let total=cart.reduce((s,p)=>s+p.price,0);
let message="Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ ğŸ›ï¸%0A";
cart.forEach(p=>{message+=p.name+" - "+p.price+" DH%0A"});
message+="Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹: "+total+" DH%0A";
message+="Ø§Ù„Ø§Ø³Ù…: "+cname.value+"%0AØ§Ù„Ù‡Ø§ØªÙ: "+cphone.value+"%0AØ§Ù„Ù…Ø¯ÙŠÙ†Ø©: "+ccity.value+"%0AØ§Ù„Ø¹Ù†ÙˆØ§Ù†: "+caddress.value;

window.open("https://wa.me/"+whatsapp+"?text="+message,"_blank");

cart=[];
closeCart();
}

function openAdmin(){
let pass=prompt("Ø£Ø¯Ø®Ù„ ÙƒÙˆØ¯ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©");
if(pass==="2025"){
document.getElementById("dashboard").style.display="block";
displayAdminProducts();
}
}

function closeDashboard(){
document.getElementById("dashboard").style.display="none";
}

displayProducts();

</script>

</body>
</html>